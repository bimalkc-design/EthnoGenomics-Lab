/* General Body and Typography - MUCH SMALLER */
body {
    font-family: 'Montserrat', sans-serif;
    line-height: 1.2; /* Tighter line height */
    margin: 0;
    padding: 0;
    color: #333;
    background-color: #f4f4f4;
    overflow: hidden; /* Prevent ALL scrolling */
    display: flex; /* Flexbox for main layout */
    justify-content: center;
    align-items: center;
    min-height: 100vh; /* Ensure it takes full viewport height */
}

h1, h2, h3, h4 {
    font-family: 'Playfair Display', serif;
    color: #2c3e50;
    margin-bottom: 0.5em; /* Tighter margins */
    line-height: 1;
}

h1 { font-size: 1.8em; margin-bottom: 0.2em; } /* Drastically smaller */
h2 { font-size: 1.3em; text-align: center; margin-bottom: 1em; color: #2980b9; } /* Drastically smaller */
h4 { font-size: 1em; margin-bottom: 0.3em; } /* Drastically smaller */
p { font-size: 0.8em; margin-bottom: 0.5em; } /* Smallest paragraph text */

a {
    color: #2980b9;
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: #1a5276;
}

/* Main Wrapper for overall content width - MAXIMIZED FOR VIEWPORT */
.main-wrapper {
    width: 98vw; /* Use almost full viewport width */
    height: 98vh; /* Use almost full viewport height */
    margin: 0 auto;
    background-color: #fff;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    display: grid; /* Use CSS Grid for overall layout */
    grid-template-rows: auto 40px 1fr auto; /* Header, Nav, Main, Footer */
    gap: 5px; /* Tiny gap between major sections */
    overflow: hidden; /* Ensure no internal scrolling for the wrapper itself */
}

/* Hero Section - MINIMIZED */
.hero {
    position: relative;
    background-color: #34495e;
    color: #fff;
    text-align: center;
    padding: 15px 10px; /* Minimal padding */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 80px; /* Very small height */
    overflow: hidden;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    z-index: 1;
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 100%;
    margin: 0 auto;
}

.hero-content h1 {
    color: #fff;
    font-size: 1.4em; /* Even smaller */
    margin-bottom: 5px;
}

.hero-content p {
    font-size: 0.9em; /* Even smaller */
    margin-bottom: 0px; /* No margin */
    opacity: 0.9;
}

.btn {
    display: none; /* Removed explore button to save space */
}

/* Navigation - COMPACT */
nav {
    background-color: #2c3e50;
    text-align: center;
    padding: 8px 0; /* Minimal padding */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
}

nav a {
    color: #ecf0f1;
    padding: 5px 10px; /* Minimal padding */
    font-weight: 700;
    font-size: 0.8em; /* Smaller font */
    display: inline-block;
    transition: background-color 0.3s ease;
    border-radius: 3px;
    margin: 0 3px; /* Smaller margin */
}

nav a:hover {
    background-color: #34495e;
    color: #fff;
}

/* Main Content Container - GRID FOR SECTIONS */
.container {
    padding: 10px; /* Minimal padding */
    max-width: none; /* Allow it to fill main-wrapper */
    margin: 0;
    display: grid;
    /* Adjusted grid to explicitly place About, Gallery, then 2x2 grid below */
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto 1fr auto; /* About, Gallery, Research/Publications, Contact */
    gap: 10px; /* Small gap between sections */
    overflow: hidden; /* Crucial: no scroll for the container */
}

section {
    padding: 10px; /* Minimal section padding */
    margin-bottom: 0;
    border-bottom: none; /* No borders to save space */
    box-shadow: 0 0 5px rgba(0,0,0,0.05); /* Subtle shadow for definition */
    background-color: #fcfcfc;
    border-radius: 5px;
    overflow: hidden; /* Hide internal scroll if content overflows, but aim not to */
}

section:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

/* Specific Grid Placements for a compact view */
#about {
    grid-column: 1 / -1; /* About spans full width */
    grid-row: 1 / 2; /* First row */
    text-align: center;
    padding-bottom: 0; /* Tighter padding */
}

#gallery {
    grid-column: 1 / -1; /* Gallery spans full width */
    grid-row: 2 / 3; /* Second row, directly below About */
    max-height: 150px; /* Give it a controlled height */
}

#research {
    grid-column: 1 / 2; /* Research in left column */
    grid-row: 3 / 4; /* Third row */
}

#publications {
    grid-column: 2 / 3; /* Publications in right column */
    grid-row: 3 / 4; /* Third row, beside research */
}

#contact {
    grid-column: 1 / -1; /* Contact spans full width at the bottom */
    grid-row: 4 / 5; /* Fourth row */
}


/* About Section - COMPACT */
.portrait {
    width: 80px; /* Much smaller portrait */
    height: 80px;
    margin-bottom: 5px;
    border: 2px solid #2980b9;
}

#about p {
    margin-top: 5px;
    font-size: 0.75em; /* Even smaller text */
    max-width: 95%; /* Use more width */
    line-height: 1.1;
}

.about-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* Two columns for items */
    gap: 8px; /* Tiny gap */
    margin-top: 10px;
}

.about-item {
    padding: 8px; /* Minimal padding */
    box-shadow: none; /* Removed box-shadow to save space */
    background-color: transparent; /* No background */
    border: 1px solid #eee; /* Minimal border */
    border-radius: 3px;
}

.about-item i {
    font-size: 1.5em; /* Smaller icons */
    margin-bottom: 5px;
}

.about-item h4 {
    margin-bottom: 2px;
    font-size: 0.9em;
}

.about-item p {
    font-size: 0.7em; /* Smallest text */
    line-height: 1;
}

/* Research Section - COMPACT */
.research-grid {
    display: grid;
    grid-template-columns: 1fr; /* Stack vertically if needed */
    gap: 8px;
    margin-top: 10px;
}

.research-card {
    border-radius: 5px;
    box-shadow: none; /* Removed shadow */
    border: 1px solid #eee;
}

.research-card img {
    width: 100%;
    height: 70px; /* Very small image height */
    object-fit: cover;
}

.research-card-overlay {
    padding: 8px; /* Minimal padding */
}

.research-card-overlay h4 {
    font-size: 0.9em;
    margin-bottom: 3px;
}

.research-card-overlay p {
    font-size: 0.7em;
    line-height: 1;
}

/* Publications Section - COMPACT */
#publications-list {
    margin-top: 10px;
    max-height: 150px; /* Fixed height for publications to prevent scroll */
    overflow-y: auto; /* ALLOW local scroll if pubs list is long */
}

.publication-item {
    background-color: transparent;
    border: none;
    padding: 5px 0; /* Minimal padding */
    margin-bottom: 5px;
    border-bottom: 1px dotted #eee; /* Subtle separator */
    box-shadow: none;
}
.publication-item:last-child {
    border-bottom: none;
}


.publication-item h3 {
    margin-top: 0;
    font-size: 0.85em; /* Smaller title */
    line-height: 1.1;
}

.publication-item p {
    font-size: 0.7em; /* Smaller text */
    color: #666;
    margin-bottom: 3px;
}

/* Gallery Section (Updated for flashing) - ONE BY ONE */
#gallery-grid {
    position: relative;
    width: 100%;
    height: 120px; /* Very small fixed height for the gallery */
    overflow: hidden; /* Crucial for hiding other images */
    margin: 10px auto 0 auto;
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    background-color: #eee; /* Placeholder bg while loading */
}

.gallery-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 1.5s ease-in-out; /* Slower transition for nice fade */
}

.gallery-image.active {
    opacity: 1;
}

/* Contact Section - COMPACT */
.contact-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* Two columns for items */
    gap: 8px;
    margin-top: 10px;
    text-align: center;
}

.contact-item {
    background-color: transparent;
    padding: 8px;
    border-radius: 5px;
    box-shadow: none;
    border: 1px solid #eee;
    min-height: auto; /* Allow height to adjust */
}

.contact-item i {
    font-size: 1.5em; /* Smaller icons */
    margin-bottom: 5px;
}

.contact-item img { /* For QR code */
    width: 50px; /* Smaller QR code */
    height: 50px;
    margin-bottom: 5px;
}

.contact-item h4 {
    margin-bottom: 2px;
    font-size: 0.9em;
}

.contact-item p {
    font-size: 0.7em;
    line-height: 1;
}

/* Footer - MINIMIZED */
footer {
    background-color: #2c3e50;
    color: #ecf0f1;
    text-align: center;
    padding: 10px 5px; /* Minimal padding */
    font-size: 0.7em; /* Smallest font */
    margin-top: 0;
}

/* Responsive Design for smaller viewports - Even more aggressive! */
@media (max-width: 1024px) { /* Adjust breakpoint for very tight fit */
    .main-wrapper {
        width: 100vw;
        height: 100vh;
        gap: 2px;
    }
    .hero {
        min-height: 60px;
        padding: 10px 5px;
    }
    .hero-content h1 { font-size: 1.2em; }
    .hero-content p { font-size: 0.8em; }
    nav { height: 35px; padding: 5px 0; }
    nav a { font-size: 0.7em; padding: 4px 8px; margin: 0 2px; }
    .container {
        padding: 5px;
        gap: 5px;
        grid-template-columns: 1fr; /* Stack all sections on very small screens */
        grid-template-rows: auto; /* Auto flow, allowing height to determine */
        overflow-y: auto; /* ALLOW main content to scroll if it truly can't fit */
    }
    #about, #gallery, #research, #publications, #contact {
        grid-column: 1 / -1; /* All span full width */
        grid-row: auto; /* Auto flow */
        padding: 8px;
        margin-bottom: 5px; /* Add slight margin between stacked sections */
    }
    h2 { font-size: 1.1em; margin-bottom: 0.8em; }
    p { font-size: 0.7em; }
    .portrait { width: 70px; height: 70px; }
    .about-grid, .contact-grid {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Allow stacking */
        gap: 5px;
    }
    .about-item i, .contact-item i { font-size: 1.2em; }
    .about-item h4, .contact-item h4 { font-size: 0.8em; }
    .about-item p, .contact-item p { font-size: 0.65em; }
    #gallery-grid { height: 100px; margin-top: 5px;}
    .research-card img { height: 60px; }
    .research-card-overlay h4 { font-size: 0.8em; }
    .research-card-overlay p { font-size: 0.65em; }
    #publications-list { max-height: 100px; }
    .publication-item h3 { font-size: 0.8em; }
    .publication-item p { font-size: 0.65em; }
    footer { padding: 8px 5px; font-size: 0.65em; }
}

@media (max-width: 480px) {
    /* Even smaller adjustments for mobile phones */
    .main-wrapper {
        gap: 1px;
    }
    .hero {
        min-height: 50px;
        padding: 8px 5px;
    }
    .hero-content h1 { font-size: 1em; }
    .hero-content p { font-size: 0.7em; }
    nav { height: 30px; }
    nav a { font-size: 0.65em; padding: 3px 6px; }
    h2 { font-size: 1em; margin-bottom: 0.5em; }
    .portrait { width: 60px; height: 60px; }
    .about-grid, .contact-grid {
        grid-template-columns: 1fr; /* Stack items too */
    }
    .about-item i, .contact-item i { font-size: 1.1em; }
    .about-item h4, .contact-item h4 { font-size: 0.75em; }
    .about-item p, .contact-item p { font-size: 0.6em; }
    #gallery-grid { height: 80px; }
    .research-card img { height: 50px; }
    #publications-list { max-height: 80px; }
    footer { padding: 5px; font-size: 0.6em; }
}
